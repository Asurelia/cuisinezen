name: "CuisineZen Definition of Done"
version: "2.0.0"
description: "Comprehensive quality gates for CuisineZen Next.js application"

# Global configuration
global:
  project: "cuisinezen"
  framework: "nextjs"
  language: "typescript"
  ui_framework: "radix-ui"
  styling: "tailwindcss"
  backend: "firebase"
  
# Quality Gates Configuration
gates:
  # Gate 1: Code Quality & Standards
  code_quality:
    enabled: true
    priority: "critical"
    tools:
      - eslint
      - prettier
      - typescript
      - stylelint
    rules:
      max_complexity: 10
      max_function_length: 50
      max_file_length: 500
      test_coverage_threshold: 80
      
  # Gate 2: Security Scanning
  security:
    enabled: true
    priority: "critical"
    tools:
      - snyk
      - audit
      - firebase_security_rules
    checks:
      - dependency_vulnerabilities
      - firebase_rules_validation
      - env_secrets_check
      - cors_configuration
      
  # Gate 3: Unit Testing
  unit_testing:
    enabled: true
    priority: "critical"
    framework: "vitest"
    coverage_threshold: 80
    mutation_threshold: 70
    target_components:
      - "src/components/product-card.tsx"
      - "src/components/recipe-card.tsx"
      - "src/components/analytics/**"
      - "src/components/inventory-list.tsx"
      - "src/components/barcode-scanner-dialog.tsx"
      
  # Gate 4: Integration Testing
  integration_testing:
    enabled: true
    priority: "high"
    framework: "vitest"
    scenarios:
      - firebase_auth_flow
      - firestore_operations
      - image_upload_flow
      - barcode_scanning
      - recipe_management
      
  # Gate 5: End-to-End Testing
  e2e_testing:
    enabled: true
    priority: "high"
    framework: "playwright"
    browsers: ["chromium", "firefox", "webkit"]
    viewports: ["desktop", "tablet", "mobile"]
    critical_flows:
      - user_authentication
      - product_management
      - recipe_creation
      - inventory_operations
      - barcode_scanning
      - analytics_dashboard
      
  # Gate 6: Performance Testing
  performance:
    enabled: true
    priority: "high"
    tools:
      - lighthouse
      - web_vitals
      - bundle_analyzer
    thresholds:
      performance_score: 90
      accessibility_score: 95
      best_practices_score: 90
      seo_score: 85
      first_contentful_paint: 1500
      largest_contentful_paint: 2500
      cumulative_layout_shift: 0.1
      
  # Gate 7: Accessibility Testing
  accessibility:
    enabled: true
    priority: "high"
    tools:
      - axe_core
      - lighthouse_a11y
      - playwright_a11y
    standards: ["WCAG2.1-AA"]
    components_to_test:
      - navigation
      - forms
      - dialogs
      - buttons
      - images
      
  # Gate 8: Visual Regression Testing
  visual_testing:
    enabled: true
    priority: "medium"
    tool: "playwright"
    components:
      - product_card
      - recipe_card
      - analytics_dashboard
      - inventory_list
      - navigation_sidebar
    devices: ["desktop", "tablet", "mobile"]
    
  # Gate 9: Cross-browser Testing
  cross_browser:
    enabled: true
    priority: "medium"
    browsers:
      - chrome: "latest"
      - firefox: "latest"
      - safari: "latest"
      - edge: "latest"
      
  # Gate 10: Mobile Responsiveness
  mobile_testing:
    enabled: true
    priority: "high"
    devices:
      - "iPhone 12"
      - "Samsung Galaxy S21"
      - "iPad Air"
      - "iPhone SE"
    orientations: ["portrait", "landscape"]

# CuisineZen Specific Features Testing
features:
  inventory_management:
    components:
      - product_card
      - add_product_dialog
      - edit_product_dialog
      - inventory_list
    scenarios:
      - add_new_product
      - edit_product_details
      - delete_product
      - filter_by_category
      - sort_by_expiration
      - bulk_operations
      
  recipe_management:
    components:
      - recipe_card
      - recipe_form_dialog
      - recipe_search
      - recipe_pagination
    scenarios:
      - create_new_recipe
      - edit_recipe
      - delete_recipe
      - search_recipes
      - filter_by_ingredients
      - save_favorite_recipes
      
  barcode_scanning:
    components:
      - barcode_scanner_dialog
    scenarios:
      - scan_product_barcode
      - add_scanned_product
      - handle_scan_errors
      - camera_permissions
      
  analytics_dashboard:
    components:
      - overview_metrics
      - performance_metrics
      - product_metrics
      - recipe_metrics
      - expiration_alerts
      - weekly_report
    scenarios:
      - display_inventory_stats
      - show_expiration_warnings
      - generate_weekly_reports
      - track_usage_patterns
      
  user_authentication:
    components:
      - auth_provider
      - login_page
    scenarios:
      - google_login
      - logout
      - session_management
      - unauthorized_access

# AI Testing Configuration
ai_testing:
  enabled: true
  models:
    test_generation: "gpt-4"
    test_analysis: "claude-3-sonnet"
  capabilities:
    - component_mapping
    - test_case_generation
    - bug_pattern_detection
    - performance_analysis
    - accessibility_audit

# Reporting Configuration
reporting:
  formats: ["html", "json", "junit"]
  destinations:
    - local_filesystem
    - github_actions
    - slack_notifications
  dashboards:
    - quality_metrics
    - test_results
    - performance_trends
    - security_status

# Thresholds for Quality Gates
thresholds:
  build_failure_conditions:
    - unit_test_coverage < 80
    - e2e_test_failures > 0
    - security_vulnerabilities > 0
    - performance_score < 90
    - accessibility_violations > 0
    - eslint_errors > 0
    - typescript_errors > 0