# Guide d'Onboarding Développeur - CuisineZen

**Version**: 2.0  
**Date**: 15 août 2025  
**Durée estimée**: 2-3 jours  

## 🎯 Bienvenue dans l'équipe CuisineZen !

Ce guide vous permettra de devenir opérationnel sur le projet CuisineZen en quelques jours. Nous avons structuré ce processus pour maximiser votre apprentissage et minimiser les frustrations.

## 📋 Checklist d'onboarding

### Jour 1 : Setup et découverte

- [ ] **Accès et comptes**\n  - [ ] Compte GitHub avec accès au repository\n  - [ ] Compte Firebase (projets dev/staging/prod)\n  - [ ] Accès Slack #cuisinezen-dev\n  - [ ] Compte Figma pour les designs\n  - [ ] Accès au dashboard DoD\n\n- [ ] **Setup environnement local**\n  - [ ] Installation Node.js 18+ et npm\n  - [ ] Clone du repository\n  - [ ] Configuration des variables d'environnement\n  - [ ] Installation des dépendances\n  - [ ] Premier build réussi\n  - [ ] Lancement du serveur de développement\n\n- [ ] **Découverte du projet**\n  - [ ] Lecture de la documentation architecture\n  - [ ] Exploration de l'interface utilisateur\n  - [ ] Compréhension du domain métier\n  - [ ] Navigation dans le code source\n\n### Jour 2 : Pratique et tests\n\n- [ ] **Première contribution**\n  - [ ] Création d'une branche feature\n  - [ ] Modification simple (ex: typo, style)\n  - [ ] Tests locaux passent\n  - [ ] Première Pull Request\n  - [ ] Passage des gates DoD\n\n- [ ] **Tests et qualité**\n  - [ ] Lancement des tests unitaires\n  - [ ] Lancement des tests E2E\n  - [ ] Compréhension du système DoD\n  - [ ] Configuration IDE/éditeur\n\n### Jour 3 : Développement avancé\n\n- [ ] **Architecture avancée**\n  - [ ] Compréhension des patterns utilisés\n  - [ ] Architecture Firebase\n  - [ ] Intégrations IA avec Genkit\n  - [ ] Système de cache et performance\n\n- [ ] **Première feature**\n  - [ ] Assignation d'une tâche simple\n  - [ ] Développement avec TDD\n  - [ ] Review et merge\n\n---\n\n## 🚀 Setup rapide (Quick Start)\n\n### Prérequis système\n\n```bash\n# Vérifications système\nnode --version  # >= 18.0.0\nnpm --version   # >= 9.0.0\ngit --version   # >= 2.30.0\n\n# Outils recommandés\nnpx @firebase/cli --version  # Firebase CLI\ncode --version               # VS Code (recommandé)\n```\n\n### Installation en 5 minutes\n\n```bash\n# 1. Clone du repository\ngit clone https://github.com/cuisinezen/cuisinezen.git\ncd cuisinezen\n\n# 2. Installation des dépendances\nnpm install\ncd functions && npm install && cd ..\n\n# 3. Configuration environnement\ncp .env.local.example .env.local\n# Éditer .env.local avec vos clés (voir section Configuration)\n\n# 4. Premier build\nnpm run build\n\n# 5. Lancement développement\nnpm run dev\n\n# 6. Vérification\nopen http://localhost:3000\n```\n\n### Validation setup\n\n```bash\n# Tests que tout fonctionne\nnpm run typecheck  # ✅ TypeScript OK\nnpm run lint       # ✅ Code style OK\nnpm run test:unit  # ✅ Tests unitaires OK\nnpm run dod:pre-commit  # ✅ DoD gates OK\n```\n\n---\n\n## 🔧 Configuration détaillée\n\n### Variables d'environnement\n\nCréez le fichier `.env.local` avec :\n\n```bash\n# Firebase Configuration (Development)\nNEXT_PUBLIC_FIREBASE_API_KEY=\"your-dev-api-key\"\nNEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=\"cuisinezen-dev.firebaseapp.com\"\nNEXT_PUBLIC_FIREBASE_PROJECT_ID=\"cuisinezen-dev\"\nNEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=\"cuisinezen-dev.appspot.com\"\nNEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=\"123456789\"\nNEXT_PUBLIC_FIREBASE_APP_ID=\"1:123456789:web:abcdef\"\n\n# AI Configuration\nGOOGLE_GENAI_API_KEY=\"your-genai-api-key\"\n\n# Development\nNODE_ENV=\"development\"\nNEXT_PUBLIC_APP_ENV=\"development\"\n\n# Optional: Analytics & Monitoring\nNEXT_PUBLIC_GOOGLE_ANALYTICS_ID=\"G-XXXXXXXXXX\"\n```\n\n### Configuration Firebase locale\n\n```bash\n# Installation Firebase CLI\nnpm install -g firebase-tools\n\n# Login Firebase\nfirebase login\n\n# Configuration projet dev\nfirebase use cuisinezen-dev\n\n# Démarrage émulateurs (optionnel)\nfirebase emulators:start\n```\n\n### Configuration VS Code\n\n```json\n// .vscode/settings.json (automatiquement configuré)\n{\n  \"editor.codeActionsOnSave\": {\n    \"source.fixAll.eslint\": true,\n    \"source.organizeImports\": true\n  },\n  \"typescript.preferences.includePackageJsonAutoImports\": \"auto\",\n  \"emmet.includeLanguages\": {\n    \"typescript\": \"typescriptreact\"\n  },\n  \"files.associations\": {\n    \"*.css\": \"tailwindcss\"\n  }\n}\n```\n\n**Extensions recommandées** (auto-suggérées) :\n- ES7+ React/Redux/React-Native snippets\n- Tailwind CSS IntelliSense\n- TypeScript Importer\n- ESLint\n- Prettier\n- Firebase\n- Jest\n- Playwright Test for VS Code\n\n---\n\n## 🏗️ Architecture du projet\n\n### Structure des dossiers\n\n```\ncuisinezen/\n├── 📁 src/                    # Code source principal\n│   ├── 📁 app/               # Next.js App Router\n│   │   ├── 📁 (app)/         # Routes authentifiées\n│   │   ├── 📁 (auth)/        # Routes d'authentification\n│   │   └── 📁 api/           # API Routes\n│   ├── 📁 components/        # Composants réutilisables\n│   │   ├── 📁 ui/            # Composants UI primitifs\n│   │   └── 📁 analytics/     # Composants métier\n│   ├── 📁 hooks/             # Hooks React personnalisés\n│   ├── 📁 lib/               # Utilitaires et configuration\n│   ├── 📁 services/          # Services métier\n│   └── 📁 ai/                # Intégrations IA Genkit\n├── 📁 functions/             # Firebase Functions\n├── 📁 docs/                  # Documentation\n├── 📁 tests/                 # Tests (unit, e2e, etc.)\n├── 📁 qa-automation/         # Système QA automatisé\n└── 📁 scripts/               # Scripts utilitaires\n```\n\n### Patterns principaux\n\n#### 1. Server vs Client Components\n\n```tsx\n// ✅ Server Component (par défaut)\n// app/inventory/page.tsx\nexport default async function InventoryPage() {\n  // Données pré-rendues côté serveur\n  const products = await getServerProducts();\n  \n  return (\n    <div>\n      <h1>Inventaire</h1>\n      <ProductsClient initialData={products} />\n    </div>\n  );\n}\n\n// ✅ Client Component (interactif)\n// components/products-client.tsx\n'use client';\n\nexport function ProductsClient({ initialData }) {\n  const [products, setProducts] = useState(initialData);\n  // Logique interactive ici\n  return <div>...</div>;\n}\n```\n\n#### 2. Hooks personnalisés\n\n```tsx\n// hooks/use-products.ts\nexport function useProducts(restaurantId: string) {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  \n  // Logique de gestion des produits\n  const addProduct = useCallback(async (product) => {\n    // Optimistic update + API call\n  }, []);\n  \n  return { products, loading, addProduct };\n}\n```\n\n#### 3. Services métier\n\n```typescript\n// services/product.service.ts\nexport class ProductService {\n  private repository: Repository<Product>;\n  \n  async create(product: CreateProductRequest): Promise<Product> {\n    // Validation, transformation, sauvegarde\n  }\n  \n  async getAll(filters: ProductFilters): Promise<Product[]> {\n    // Récupération avec cache intelligent\n  }\n}\n```\n\n---\n\n## 🧪 Tests et Qualité\n\n### Lancement des tests\n\n```bash\n# Tests unitaires\nnpm run test              # Mode watch\nnpm run test:run          # Single run\nnpm run test:coverage     # Avec couverture\n\n# Tests E2E\nnpm run test:e2e          # Tous les tests E2E\nnpm run test:e2e:headed   # Avec interface graphique\nnpm run test:e2e:debug    # Mode debug\n\n# Tests spécialisés\nnpm run test:a11y         # Accessibilité\nnpm run test:performance  # Performance\nnpm run test:visual       # Tests visuels\n\n# Gates de qualité\nnpm run dod:full          # Validation complète DoD\n```\n\n### Écriture de tests\n\n#### Test unitaire type\n\n```typescript\n// components/__tests__/product-card.test.tsx\nimport { render, screen, fireEvent } from '@testing-library/react';\nimport { ProductCard } from '../product-card';\n\ndescribe('ProductCard', () => {\n  const mockProduct = {\n    id: 'prod-1',\n    name: 'Tomates cerises',\n    category: 'frais',\n    batches: [/* ... */]\n  };\n\n  it('should render product information', () => {\n    render(<ProductCard product={mockProduct} />);\n    \n    expect(screen.getByText('Tomates cerises')).toBeInTheDocument();\n    expect(screen.getByText('frais')).toBeInTheDocument();\n  });\n\n  it('should handle edit action', async () => {\n    const onEdit = jest.fn();\n    render(<ProductCard product={mockProduct} onEdit={onEdit} />);\n    \n    fireEvent.click(screen.getByRole('button', { name: /edit/i }));\n    \n    expect(onEdit).toHaveBeenCalledWith(mockProduct);\n  });\n});\n```\n\n#### Test E2E type\n\n```typescript\n// tests/e2e/product-management.spec.ts\nimport { test, expect } from '@playwright/test';\n\ntest('should create a new product', async ({ page }) => {\n  await page.goto('/inventory');\n  \n  // Cliquer sur \"Ajouter produit\"\n  await page.click('[data-testid=\"add-product-button\"]');\n  \n  // Remplir le formulaire\n  await page.fill('[data-testid=\"product-name\"]', 'Carottes bio');\n  await page.selectOption('[data-testid=\"product-category\"]', 'frais');\n  \n  // Soumettre\n  await page.click('[data-testid=\"submit-button\"]');\n  \n  // Vérifier la création\n  await expect(page.locator('text=Carottes bio')).toBeVisible();\n});\n```\n\n### Système DoD\n\nLe système Definition of Done vérifie automatiquement :\n\n- ✅ **Tests** : Couverture ≥ 85%, tous les tests passent\n- ✅ **TypeScript** : Compilation sans erreur\n- ✅ **Linting** : Code conforme aux standards\n- ✅ **Sécurité** : Aucune vulnérabilité critique\n- ✅ **Performance** : Lighthouse score ≥ 90\n- ✅ **Build** : Application se build correctement\n\n---\n\n## 🔄 Workflow de développement\n\n### Git workflow\n\n```bash\n# 1. Créer une branche feature\ngit checkout -b feature/add-product-expiry-alerts\n\n# 2. Développer avec commits atomiques\ngit add .\ngit commit -m \"feat: add expiry date validation\"\ngit commit -m \"test: add expiry alerts tests\"\ngit commit -m \"docs: update product schema\"\n\n# 3. Push avec vérifications DoD\ngit push origin feature/add-product-expiry-alerts\n# ← Pre-push hook lance npm run dod:full\n\n# 4. Créer Pull Request\n# → GitHub Actions lance les tests complets\n# → Review automatique par l'IA\n# → Déploiement preview sur Firebase\n\n# 5. Merge après approbation\n# → Déploiement automatique staging\n# → Tests smoke staging\n```\n\n### Structure des commits\n\nNous utilisons [Conventional Commits](https://www.conventionalcommits.org/) :\n\n```bash\n# Types de commits\nfeat: nouvelle fonctionnalité\nfix: correction de bug\nrefactor: refactoring sans changement fonctionnel\ntest: ajout ou modification de tests\ndocs: documentation\nstyle: formatage, indentation\nperf: amélioration de performance\nci: changements CI/CD\n\n# Exemples\ngit commit -m \"feat(inventory): add bulk product import\"\ngit commit -m \"fix(auth): resolve login redirect issue\"\ngit commit -m \"test(recipes): add integration tests\"\ngit commit -m \"docs(api): update authentication section\"\n```\n\n### Review Process\n\n1. **Auto-review** : L'IA analyse le code et suggère des améliorations\n2. **Peer review** : Au moins 1 développeur senior review\n3. **Tests automatiques** : Tous les gates DoD passent\n4. **Preview deployment** : Test en environnement preview\n5. **Merge** : Intégration dans la branche principale\n\n---\n\n## 🧠 Concepts métier\n\n### Domain CuisineZen\n\n#### Entités principales\n\n```typescript\n// Restaurant : Entité racine\ninterface Restaurant {\n  id: string;\n  name: string;\n  adminEmails: string[];\n  settings: RestaurantSettings;\n}\n\n// Product : Gestion d'inventaire\ninterface Product {\n  id: string;\n  name: string;\n  category: ProductCategory;\n  batches: ProductBatch[];  // Lots avec dates d'expiration\n  createdBy: string;\n  imageUrl?: string;\n}\n\n// Recipe : Recettes avec ingrédients\ninterface Recipe {\n  id: string;\n  name: string;\n  description: string;\n  ingredients: RecipeIngredient[];\n  instructions: string[];\n  prepTime: number;  // minutes\n  cookTime: number;  // minutes\n  servings: number;\n}\n\n// Menu : Planification hebdomadaire\ninterface WeeklyMenu {\n  id: string;\n  week: string;  // YYYY-WW\n  days: DayMenu[];\n  createdBy: string;\n}\n```\n\n#### Business Rules\n\n- **Produits** : Chaque produit peut avoir plusieurs lots avec dates d'expiration différentes\n- **Recettes** : Utilisent des produits de l'inventaire avec quantités\n- **Menus** : Planification par semaine avec recettes assignées par jour\n- **Permissions** : Granulaires par action et par utilisateur\n- **Multi-tenant** : Chaque restaurant est isolé\n\n### Intégrations IA\n\n```typescript\n// Flow d'extraction de menu depuis image\nconst extractMenuFlow = defineFlow(\n  {\n    name: 'extractMenuFromImage',\n    inputSchema: ExtractMenuInputSchema,\n    outputSchema: ExtractMenuOutputSchema,\n  },\n  async (input) => {\n    // 1. Analyse de l'image avec vision AI\n    const imageAnalysis = await analyzeImage(input.imageData);\n    \n    // 2. Extraction des éléments de menu\n    const menuItems = await extractMenuItems(imageAnalysis);\n    \n    // 3. Suggestion de catégories\n    const categorized = await categorizeItems(menuItems);\n    \n    return {\n      items: categorized,\n      confidence: imageAnalysis.confidence\n    };\n  }\n);\n```\n\n---\n\n## 🚀 Première contribution\n\n### Mission d'onboarding\n\nPour votre première contribution, choisissez une tâche simple labelée `good-first-issue` :\n\n1. **Fix typo** : Correction d'une faute dans la documentation\n2. **Add unit test** : Ajouter un test manquant\n3. **UI improvement** : Amélioration mineure d'interface\n4. **Add validation** : Ajouter une validation de formulaire\n\n### Exemple : Ajouter une validation\n\n```typescript\n// Tâche : Ajouter validation \"nom de produit unique\"\n\n// 1. Créer le schéma de validation\n// lib/validations/product.ts\nexport const CreateProductSchema = z.object({\n  name: z.string()\n    .min(1, 'Le nom est requis')\n    .max(100, 'Le nom doit faire moins de 100 caractères')\n    .refine(async (name) => {\n      const exists = await checkProductNameExists(name);\n      return !exists;\n    }, 'Un produit avec ce nom existe déjà'),\n  category: z.enum(['frais', 'surgelé', 'épicerie', 'boisson', 'entretien']),\n  // ...\n});\n\n// 2. Utiliser dans le composant\n// components/add-product-dialog.tsx\nconst form = useForm({\n  resolver: zodResolver(CreateProductSchema),\n  // ...\n});\n\n// 3. Ajouter les tests\n// __tests__/product-validation.test.ts\ndescribe('Product validation', () => {\n  it('should reject duplicate product names', async () => {\n    // Test de validation\n  });\n});\n```\n\n### Checklist avant soumission\n\n- [ ] Code respecte les conventions du projet\n- [ ] Tests ajoutés/modifiés passent\n- [ ] Documentation mise à jour si nécessaire\n- [ ] Pas de console.log oubliés\n- [ ] Types TypeScript corrects\n- [ ] Performance considérée\n- [ ] Tests DoD passent localement\n\n---\n\n## 📚 Ressources d'apprentissage\n\n### Documentation technique\n\n- 📖 [Architecture complète](../ARCHITECTURE.md)\n- 🏗️ [ADR - Décisions architecture](../adr/)\n- 🔌 [Documentation API](../api/)\n- 🎯 [Système DoD](../DOD_SYSTEM.md)\n\n### Guides spécialisés\n\n- 🚀 [Déploiement production](./production-deployment.md)\n- 🔧 [Troubleshooting](./troubleshooting.md)\n- 📋 [Best practices](./best-practices.md)\n\n### Technologies utilisées\n\n- **Next.js 15** : [Documentation officielle](https://nextjs.org/docs)\n- **React 18** : [Hooks et patterns modernes](https://react.dev)\n- **TypeScript** : [Guide avancé](https://www.typescriptlang.org/docs/)\n- **Firebase** : [Documentation complète](https://firebase.google.com/docs)\n- **Tailwind CSS** : [Utility classes](https://tailwindcss.com/docs)\n- **Vitest** : [Testing framework](https://vitest.dev)\n- **Playwright** : [E2E testing](https://playwright.dev)\n\n### Communauté\n\n- 💬 **Slack** : #cuisinezen-dev (questions techniques)\n- 💬 **Slack** : #cuisinezen-general (annonces, discussions)\n- 📧 **Email** : tech-lead@cuisinezen.com (urgent)\n- 📅 **Meetings** : Daily standup 9h30, Planning sprint bi-hebdomadaire\n\n---\n\n## ❓ FAQ Onboarding\n\n### Q: Les tests E2E échouent localement, que faire ?\n**R:** Vérifiez que :\n- Le serveur dev tourne sur le bon port (3000)\n- Les variables d'environnement sont configurées\n- Les navigateurs Playwright sont installés : `npx playwright install`\n\n### Q: Erreur \"Firebase project not found\" ?\n**R:** \n```bash\n# Vérifier la configuration\nfirebase projects:list\nfirebase use cuisinezen-dev\n# Vérifier les clés dans .env.local\n```\n\n### Q: Comment débugger les erreurs TypeScript ?\n**R:** \n```bash\n# Check TypeScript en détail\nnpx tsc --noEmit --listFiles\n# Redémarrer le language server VS Code\nCmd+Shift+P > \"TypeScript: Restart TS Server\"\n```\n\n### Q: Différence entre les environnements ?\n**R:** \n- **Development** : Local, émulateurs Firebase\n- **Staging** : `cuisinezen-staging`, tests d'intégration\n- **Production** : `cuisinezen-prod`, données réelles\n\n### Q: Comment proposer une amélioration ?\n**R:** \n1. Créer une issue GitHub avec template \"Feature Request\"\n2. Discussion en équipe (standup ou Slack)\n3. Si approuvé, créer un ADR pour les changements importants\n4. Développement avec PR normale\n\n---\n\n## 🎉 Félicitations !\n\nVous êtes maintenant prêt(e) à contribuer à CuisineZen ! \n\n**Prochaines étapes :**\n1. Choisir votre première issue `good-first-issue`\n2. Rejoindre le prochain standup équipe\n3. Faire connaissance avec l'équipe\n4. Poser toutes vos questions sur Slack\n\n**Remember** : L'équipe est là pour vous aider. N'hésitez jamais à demander de l'aide !\n\n---\n\n*Guide maintenu par l'équipe technique CuisineZen*  \n*Feedback et améliorations : tech-lead@cuisinezen.com*